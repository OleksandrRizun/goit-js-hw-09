{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,OAAQC,SAASC,cAAe,UAChCC,OAAQF,SAASG,qBAAsB,UAwCzC,SAASC,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GACtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KACvBL,EACFI,EAAQ,qBAAqBN,QAAeC,OAE5CM,EAAO,oBAAoBP,QAAeC,MAAU,G,CA3C1DR,EAAKC,OAAOc,iBAAiB,SAAUC,IACrCA,EAAEC,iBAOJ,SAAyBC,EAAOC,EAAMC,GACpC,IAAKC,OAAOC,UAAWJ,KAAWG,OAAOC,UAAWH,KAAUE,OAAOC,UAAWF,IAAWF,EAAQ,GAAKC,EAAO,GAAKC,GAAU,EAAG,OACjI,IAAIZ,EAAQU,EACZK,YAAY,KAQV,GAPAjB,EAAc,EAAGE,GACZgB,MAAKC,IACJ3B,EAAA4B,OAAOC,QAAQF,EAAM,IAEtBG,OAAMC,IACL/B,EAAA4B,OAAOI,QAAQD,EAAM,IAEb,GAAVT,EAAa,OACjB,IAAIW,EAAU,EACVC,EAAUC,aAAa,KACzBzB,GAASW,EACTb,EAAcyB,EAASvB,GACpBgB,MAAKC,IACJ3B,EAAA4B,OAAOC,QAAQF,EAAM,IAEtBG,OAAMC,IACL/B,EAAA4B,OAAOI,QAAQD,EAAM,IAEzBE,IACIA,EAAUX,GAAQc,cAAcF,EAAQ,GAC3Cb,EAAK,GACPX,E,CA5BH2B,EAHcnC,EAAKI,OAAQ,GAAGqB,OAChBzB,EAAKI,OAAQ,GAAGqB,OAChBzB,EAAKI,OAAQ,GAAGqB,MACS","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from 'notiflix/build/notiflix-notify-aio';\n\nconst refs = {\n  button: document.querySelector (\"button\"),\n  fields: document.getElementsByTagName (\"input\")\n}\n\nrefs.button.addEventListener(\"click\", (e) => {\n  e.preventDefault ();\n  let field1 = +refs.fields [0].value;\n  let field2 = +refs.fields [1].value;\n  let field3 = +refs.fields [2].value;\n  createPromises (field1, field2, field3)\n});\n\nfunction createPromises (first, step, amount) {\n  if (!Number.isInteger (first) || !Number.isInteger (step) || !Number.isInteger (amount) || first < 0 || step < 0 || amount <= 0) return;\n  let delay = first;\n  setTimeout (() => {\n    createPromise(1, delay)\n        .then(value => {\n          Notify.success(value);\n        })\n        .catch(error => {\n          Notify.failure(error);\n        })\n    if (amount == 1) return;\n    let counter = 2;\n    let timerId = setInterval (()=> {\n      delay += step;\n      createPromise(counter, delay)\n        .then(value => {\n          Notify.success(value);\n        })\n        .catch(error => {\n          Notify.failure(error);\n        })\n      counter++;\n      if (counter > amount) clearInterval(timerId)\n    }, step)\n  }, delay\n  )\n}\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  return new Promise((resolve, reject) => {\n    if (shouldResolve) {\n      resolve(`Fulfilled promise ${position} in ${delay}ms`);\n    } else {\n      reject(`Rejected promise ${position} in ${delay}ms`);\n    }\n  });\n}\n"],"names":["$iQIUW","parcelRequire","$47d4ff9957288465$var$refs","button","document","querySelector","fields","getElementsByTagName","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","addEventListener","e","preventDefault","first","step","amount","Number","isInteger","setTimeout","then","value","Notify","success","catch","error","failure","counter","timerId","setInterval","clearInterval","$47d4ff9957288465$var$createPromises"],"version":3,"file":"03-promises.bbd31c42.js.map"}